<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>5-SAT</title>
        <link rel="stylesheet" href="index.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    
        <script>
        function getRandomint(max){
            return Math.floor(Math.random()*max);
        }
        let x=[getRandomint(2),getRandomint(2),getRandomint(2),getRandomint(2),getRandomint(2)];
        let nowx=[0,0,0,0,0];
        let qs=[[],[],[],[],[],[],[],[],[]];
        function createq(num){
            while(true){
                let q=[getRandomint(2),getRandomint(2),getRandomint(2),getRandomint(2),getRandomint(2)];
                let hoge=false;
                for(let i=0;i<5;i++){
                    if(q[i]==x[i]){
                        hoge=true;
                        break;
                    }
                }
                if(hoge){
                    let str='';
                    for(let i=0;i<5;i++){
                        if(q[i]==0)str+='￢';
                        str+='x<sub>'+i+'</sub>∨';
                    }
                    qs[num]=q;
                    str=str.slice(0,str.length-1);
                    let dv='q'+num;
                    document.getElementById(dv).innerHTML=str;
                break;
               }
            }
        }
        function func(num){
            if(nowx[num]==0)nowx[num]=1;
            else nowx[num]=0;
            calc();
        }
        function calc(){
            for(let i=0;i<5;i++){
                var hoge=document.getElementById('x'+(i+1));
                if(nowx[i]==1){
                    hoge.setAttribute('style','color:green;text-align:center');
                }
                else{
                    hoge.setAttribute('style','color:red;text-align:center');
                }
            }
            let bool=true;
            for(let i=0;i<9;i++){
                let bol=false;
                for(let j=0;j<5;j++){
                    if(qs[i+1][j]==nowx[j])bol=true;
                }
                var hoge=document.getElementById('q'+(i+1));
                if(!bol){
                    hoge.setAttribute('style','color:red;text-align:center');
                    bool=false;
                }
                else{
                    hoge.setAttribute('style','color:green;text-align:center');
                }
            }
            if(bool){
                var hoge=document.getElementById('clear');
                hoge.innerHTML="CLEAR";
            }

        }
        window.onload=function(){
            createq(1);
            createq(2);
            createq(3);
            createq(4);
            createq(5);
            createq(6);
            createq(7);
            createq(8);
            createq(9);
            console.log(qs);
            calc();
        }
        </script>
    </head>
    <body>
        <div id="questions">
            <div>
                <p id="q1" style="text-align:center"></p>
            </div>
            <br>
            <div>
                <p  id="q2" style="text-align:center"></p>
            </div>
            <br>
            <div>
                <p  id="q3" style="text-align:center"></p>
            </div>
            <br>
            <div>
                <p  id="q4" style="text-align:center"></p>
            </div>
            <br>
            <div>
                <p  id="q5" style="text-align:center"></p>
            </div>
            <br>
            <div>
                <p  id="q6" style="text-align:center"></p>
            </div>
            <br>
            <div>
                <p  id="q7" style="text-align:center"></p>
            </div>
            <br>
            <div>
                <p  id="q8" style="text-align:center"></p>
            </div>
            <br>
            <div>
                <p  id="q9" style="text-align:center"></p>
            </div>
        </div>
        <br>
        <div id="answer">
            <p id="x1" onclick="func(0)"style="text-align:center">x<sub>1</sub></p>
            <br>
            <p id="x2" onclick="func(1)"style="text-align:center">x<sub>2</sub></p>
            <br>
            <p id="x3" onclick="func(2)"style="text-align:center">x<sub>3</sub></p>
            <br>
            <p id="x4" onclick="func(3)"style="text-align:center">x<sub>4</sub></p>
            <br>
            <p id="x5" onclick="func(4)"style="text-align:center">x<sub>5</sub></p>
        </div>
        <div id="hoge">
            <p id="clear"> </p>
        </div>
    </body>
</html>